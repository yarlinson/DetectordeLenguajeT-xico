{% extends 'detector/base.html' %}

{% block title %}Acerca de - Detector de Lenguaje Tóxico{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-10">
        <!-- Header -->
        <div class="text-center mb-5">
            <i class="bi bi-shield-check text-primary" style="font-size: 4rem;"></i>
            <h1 class="mt-3">Detector de Lenguaje Tóxico</h1>
            <p class="lead text-muted">
                Sistema inteligente de análisis de texto basado en autómatas finitos deterministas (AFD)
            </p>
        </div>

        <!-- System Overview -->
        <div class="card mb-4">
            <div class="card-header">
                <h4 class="mb-0">
                    <i class="bi bi-gear"></i>
                    Descripción del Sistema
                </h4>
            </div>
            <div class="card-body">
                <p class="mb-3">
                    El <strong>Detector de Lenguaje Tóxico</strong> es un sistema desarrollado en Django que utiliza 
                    autómatas finitos deterministas (AFD) para analizar texto y detectar contenido agresivo o tóxico 
                    en tiempo real.
                </p>
                
                <p class="mb-3">
                    El sistema está diseñado para procesar comentarios de blogs, mensajes de chat, entradas de foros 
                    y cualquier otro tipo de texto, proporcionando una clasificación detallada del nivel de toxicidad 
                    y los tipos específicos de contenido detectado.
                </p>
                
                <div class="row">
                    <div class="col-md-6">
                        <h6><i class="bi bi-check-circle text-success"></i> Características Principales:</h6>
                        <ul class="list-unstyled">
                            <li><i class="bi bi-arrow-right text-primary"></i> Detección en tiempo real</li>
                            <li><i class="bi bi-arrow-right text-primary"></i> Múltiples niveles de toxicidad</li>
                            <li><i class="bi bi-arrow-right text-primary"></i> Patrones personalizables</li>
                            <li><i class="bi bi-arrow-right text-primary"></i> Estadísticas detalladas</li>
                            <li><i class="bi bi-arrow-right text-primary"></i> Interfaz web intuitiva</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6><i class="bi bi-shield-check text-success"></i> Tipos de Toxicidad Detectados:</h6>
                        <ul class="list-unstyled">
                            <li><i class="bi bi-chat-dots" style="color: #ffc107;"></i> <strong>Insultos</strong> <span class="badge bg-warning text-dark">LOW</span></li>
                            <li><i class="bi bi-exclamation-circle" style="color: #ffc107;"></i> <strong>Profanidad</strong> <span class="badge bg-warning text-dark">LOW</span></li>
                            <li><i class="bi bi-person-x" style="color: #fd7e14;"></i> <strong>Acoso</strong> <span class="badge bg-danger">MEDIUM</span></li>
                            <li><i class="bi bi-exclamation-triangle" style="color: #dc3545;"></i> <strong>Amenazas</strong> <span class="badge bg-dark">EXTREME</span></li>
                            <li><i class="bi bi-heartbreak" style="color: #dc3545;"></i> <strong>Odio</strong> <span class="badge bg-dark">EXTREME</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Technical Details -->
        <div class="row mb-4">
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="bi bi-cpu"></i>
                            Implementación Técnica
                        </h5>
                    </div>
                    <div class="card-body">
                        <h6>Autómata Finito Determinista (AFD)</h6>
                        <p class="mb-3">
                            El sistema utiliza un AFD con 4 estados para detectar patrones de toxicidad:
                        </p>
                        
                        <ul class="list-unstyled">
                            <li class="mb-2">
                                <strong>q₀:</strong> Estado inicial - <span class="badge bg-success">SAFE</span> (Texto seguro)
                            </li>
                            <li class="mb-2">
                                <strong>q₁:</strong> <span class="badge bg-warning text-dark">LOW</span> (Toxicidad baja - Insultos o profanidad)
                            </li>
                            <li class="mb-2">
                                <strong>q₂:</strong> <span class="badge bg-danger">MEDIUM</span> (Toxicidad media - Acoso)
                            </li>
                            <li class="mb-2">
                                <strong>q₃:</strong> <span class="badge bg-dark">EXTREME</span> (Toxicidad extrema - Amenazas u odio) - <em>Estado absorbente</em>
                            </li>
                        </ul>
                        
                        <div class="alert alert-info mt-3 mb-0">
                            <small>
                                <i class="bi bi-info-circle"></i> 
                                <strong>Nota:</strong> El estado q₃ es absorbente, lo que significa que una vez alcanzado, 
                                el autómata permanece ahí sin importar qué más detecte. Todos los estados son estados finales.
                            </small>
                        </div>
                        
                        <h6 class="mt-3">Estadísticas del Autómata:</h6>
                        <div class="row text-center">
                            <div class="col-6">
                                <div class="border rounded p-2">
                                    <strong>{{ automaton_stats.total_states }}</strong>
                                    <br><small class="text-muted">Estados</small>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="border rounded p-2">
                                    <strong>{{ automaton_stats.total_patterns }}</strong>
                                    <br><small class="text-muted">Patrones</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="bi bi-code-slash"></i>
                            Tecnologías Utilizadas
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-6 mb-3">
                                <div class="text-center">
                                    <i class="bi bi-file-earmark-code text-primary" style="font-size: 2rem;"></i>
                                    <h6 class="mt-2">Django 5.2.7</h6>
                                    <small class="text-muted">Framework Web</small>
                                </div>
                            </div>
                            <div class="col-6 mb-3">
                                <div class="text-center">
                                    <i class="bi bi-diagram-2 text-success" style="font-size: 2rem;"></i>
                                    <h6 class="mt-2">AFD/AFND</h6>
                                    <small class="text-muted">Autómatas Finitos</small>
                                </div>
                            </div>
                            <div class="col-6 mb-3">
                                <div class="text-center">
                                    <i class="bi bi-database text-info" style="font-size: 2rem;"></i>
                                    <h6 class="mt-2">SQLite</h6>
                                    <small class="text-muted">Base de Datos</small>
                                </div>
                            </div>
                            <div class="col-6 mb-3">
                                <div class="text-center">
                                    <i class="bi bi-bootstrap text-purple" style="font-size: 2rem;"></i>
                                    <h6 class="mt-2">Bootstrap 5</h6>
                                    <small class="text-muted">Frontend</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pattern Distribution -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="bi bi-bar-chart"></i>
                    Distribución de Patrones por Tipo
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    {% for toxicity_type, count in automaton_stats.patterns_by_type.items %}
                        <div class="col-md-4 mb-3">
                            <div class="card bg-light">
                                <div class="card-body text-center">
                                    <i class="bi bi-tag-fill text-warning" style="font-size: 1.5rem;"></i>
                                    <h6 class="mt-2">{{ toxicity_type|title }}</h6>
                                    <span class="badge bg-primary fs-6">{{ count }}</span>
                                    <br><small class="text-muted">patrones</small>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- How It Works -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="bi bi-question-circle"></i>
                    ¿Cómo Funciona?
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3 text-center mb-3">
                        <div class="border rounded p-3">
                            <i class="bi bi-1-circle text-primary" style="font-size: 2rem;"></i>
                            <h6 class="mt-2">1. Entrada</h6>
                            <small class="text-muted">El usuario ingresa el texto a analizar. El AFD inicia en q₀ (SAFE)</small>
                        </div>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <div class="border rounded p-3">
                            <i class="bi bi-2-circle text-primary" style="font-size: 2rem;"></i>
                            <h6 class="mt-2">2. Búsqueda</h6>
                            <small class="text-muted">El sistema busca patrones tóxicos usando expresiones regulares (regex)</small>
                        </div>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <div class="border rounded p-3">
                            <i class="bi bi-3-circle text-primary" style="font-size: 2rem;"></i>
                            <h6 class="mt-2">3. Transición</h6>
                            <small class="text-muted">Cada patrón detectado activa una transición de estado según su tipo</small>
                        </div>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <div class="border rounded p-3">
                            <i class="bi bi-4-circle text-primary" style="font-size: 2rem;"></i>
                            <h6 class="mt-2">4. Resultado</h6>
                            <small class="text-muted">El estado final determina el nivel de toxicidad (SAFE, LOW, MEDIUM, EXTREME)</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact/Support -->
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="bi bi-envelope"></i>
                    Información Adicional
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6><i class="bi bi-info-circle text-info"></i> Versión del Sistema</h6>
                        <ul class="list-unstyled">
                            <li><strong>Versión:</strong> 1.0.0</li>
                            <li><strong>Fecha de lanzamiento:</strong> {{ "now"|date:"d/m/Y" }}</li>
                            <li><strong>Desarrollado con:</strong> Django + AFD</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6><i class="bi bi-shield-check text-success"></i> Características de Seguridad</h6>
                        <ul class="list-unstyled">
                            <li><i class="bi bi-check text-success"></i> Análisis confidencial</li>
                            <li><i class="bi bi-check text-success"></i> No almacenamiento de datos sensibles</li>
                            <li><i class="bi bi-check text-success"></i> Patrones actualizables</li>
                        </ul>
                    </div>
                </div>
                
                <div class="alert alert-info mt-3">
                    <i class="bi bi-lightbulb"></i>
                    <strong>Nota:</strong> Este sistema es una demostración educativa de cómo implementar 
                    un detector de toxicidad usando autómatas finitos deterministas. Los patrones pueden 
                    ser personalizados desde el panel de administración. Para más detalles sobre el funcionamiento 
                    del AFD, visita la <a href="{% url 'detector:automaton_explanation' %}" class="alert-link">explicación detallada del autómata</a>.
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}



